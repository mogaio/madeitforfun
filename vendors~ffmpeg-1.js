(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{221:function(e,t,r){var n,o;void 0===(o="function"==typeof(n=function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild);for(var n,o=document.createElement("a"),i=1;i<e;i++)o.href=arguments[i],n=o.href,t.href=n;return r.removeChild(t),n}})?n.call(t,r,t,e):n)||(e.exports=o)},222:function(e,t){let r=!1;t.logging=r,t.setLogging=e=>{r=e},t.log=(...e)=>r?console.log.apply(this,e):null},223:function(e,t){e.exports=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`},225:function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r,n){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function l(){}function f(){}function p(){}var d={};d[o]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(k([])));m&&m!==t&&r.call(m,o)&&(d=m);var g=p.prototype=l.prototype=Object.create(d);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e){var t;this._invoke=function(n,o){function i(){return new Promise((function(t,i){!function t(n,o,i,a){var s=c(e[n],e,o);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(l).then((function(e){u.value=e,i(u)}),(function(e){return t("throw",e,i,a)}))}a(s.arg)}(n,o,t,i)}))}return t=t?t.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=g.constructor=p,p.constructor=f,p[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(v.prototype),v.prototype[i]=function(){return this},e.AsyncIterator=v,e.async=function(t,r,n,o){var i=new v(s(t,r,n,o));return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},y(g),g[a]="Generator",g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},226:function(e,t,r){const n=r(227),{log:o}=r(222),i=r(223),a=r(228),s=r(229),{defaultOptions:c,spawnWorker:u,terminateWorker:l,onMessage:f,send:p,fetchFile:d,fs:h}=r(231);let m=0;e.exports=(e={})=>{const t=i("Worker",m),{logger:r,progress:g,...y}=s({...c,...e}),v={},w={};let b=u(y);m+=1;const x=(e,t)=>{v[e]=t},L=(e,t)=>{w[e]=t},k=({id:e,action:r,payload:n})=>new Promise((i,a)=>{o(`[${t}]: Start ${e}, action=${r}`),x(r,i),L(r,a),p(b,{workerId:t,jobId:e,action:r,payload:n})}),E=(e,t)=>k(n({id:t,action:"syncfs",payload:{populate:e}})),j=async(e,t)=>(await E(!0),await h.writeFile(e,t),await E(!0),{path:`/data/${e}`}),D=(e,t={},r)=>k(n({id:r,action:"run",payload:{args:e,options:t}}));return f(b,({workerId:e,jobId:t,status:n,action:i,data:s})=>{if("resolve"===n){o(`[${e}]: Complete ${t}`);let r=s;if("FS"===i){const{method:e,data:t}=s;r="readFile"===e?Uint8Array.from({...t,length:Object.keys(t).length}):t}v[i]({jobId:t,data:r})}else{if("reject"===n)throw w[i](s),Error(s);"progress"===n&&(a(s,g),r(s))}}),{id:t,worker:b,setResolve:x,setReject:L,load:e=>k(n({id:e,action:"load",payload:{options:y}})),syncfs:E,write:async(e,t)=>(await E(),await h.writeFile(e,await d(t)),await E(!0),{path:`/data/${e}`}),writeText:j,read:async(e,t=!0)=>{const r=await h.readFile(e);return t&&await h.deleteFile(e),{data:r}},remove:async e=>(await h.deleteFile(e),{path:`/data/${e}`}),run:D,transcode:(e,t,r="",n=!0,o)=>D(`-i /data/${e} ${r} ${t}`,{input:e,output:t,del:n},o),trim:(e,t,r,n,o="",i=!0,a)=>D(`-i /data/${e} -ss ${r} -to ${n} ${o} ${t}`,{input:e,output:t,del:i},a),concatDemuxer:async(e,t,r="",n=!0,o)=>{const i=e.reduce((e,t)=>`${e}\nfile ${t}`,"");return await j("concat_list.txt",i),D(`-f concat -safe 0 -i /data/concat_list.txt -c copy ${r} ${t}`,{del:n,output:t,input:[...e,"concat_list.txt"]},o)},ls:(e,t)=>k(n({id:t,action:"FS",payload:{method:"readdir",args:[e]}})),terminate:async e=>(null!==b&&(await k(n({id:e,action:"terminate"})),l(b),b=null),Promise.resolve())}}},227:function(e,t,r){const n=r(223);let o=0;e.exports=({id:e,action:t,payload:r={}})=>{let i=e;return void 0===i&&(i=n("Job",o),o+=1),{id:i,action:t,payload:r}}},228:function(e,t){let r=0;const n=e=>{const[t,r,n]=e.split(":");return 60*parseFloat(t)*60+60*parseFloat(r)+parseFloat(n)};e.exports=({message:e},t)=>{if("string"==typeof e)if(e.startsWith("  Duration")){const t=e.split(", ")[0].split(": ")[1],o=n(t);(0===r||r>o)&&(r=o)}else if(e.startsWith("frame")){const o=e.split("time=")[1].split(" ")[0];t({ratio:n(o)/r})}else e.startsWith("video:")&&t({ratio:1})}},229:function(e,t,r){const n="browser"===r(230)("type")?r(221):e=>e;e.exports=e=>{const t={...e};return["corePath","workerPath"].forEach(r=>{void 0!==e[r]&&(t[r]=n(t[r]))}),t}},230:function(e,t){e.exports=e=>{const t={type:"undefined"!=typeof window&&void 0!==window.document?"browser":"node"};return void 0===e?t:t[e]}},231:function(e,t,r){const n=r(232),o=r(235),i=r(236),a=r(237),s=r(238),c=r(239),u=r(240);e.exports={defaultOptions:n,spawnWorker:o,terminateWorker:i,onMessage:a,send:s,fetchFile:c,fs:u}},232:function(e,t,r){(function(t){const n=r(221),{version:o,dependencies:i}=r(233),a=r(234);e.exports={...a,workerPath:void 0!==t&&"development"===t.env.FFMPEG_ENV?n(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/@ffmpeg/ffmpeg@v${o}/dist/worker.min.js`,corePath:`https://unpkg.com/@ffmpeg/core@v${i["@ffmpeg/core"].substring(1)}/ffmpeg-core.js`,workerBlobURL:!0}}).call(this,r(3))},233:function(e){e.exports=JSON.parse('{"_args":[["@ffmpeg/ffmpeg@0.5.2","/home/travis/build/TrevorSundberg/madeitforfun"]],"_from":"@ffmpeg/ffmpeg@0.5.2","_id":"@ffmpeg/ffmpeg@0.5.2","_inBundle":false,"_integrity":"sha512-pOLD2wB7SDqJ6eeW1Tl29Mrlvzm985el4Mipo4GFl6ZKwYXQ/IA7pbwYsY29P+6o7kyy2VGBkUMqKaFugJFWlg==","_location":"/@ffmpeg/ffmpeg","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@ffmpeg/ffmpeg@0.5.2","name":"@ffmpeg/ffmpeg","escapedName":"@ffmpeg%2fffmpeg","scope":"@ffmpeg","rawSpec":"0.5.2","saveSpec":null,"fetchSpec":"0.5.2"},"_requiredBy":["/"],"_resolved":"https://registry.npmjs.org/@ffmpeg/ffmpeg/-/ffmpeg-0.5.2.tgz","_spec":"0.5.2","_where":"/home/travis/build/TrevorSundberg/madeitforfun","author":{"name":"Jerome Wu","email":"jeromewus@gmail.com"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"bugs":{"url":"https://github.com/ffmpegjs/ffmpeg.js/issues"},"dependencies":{"@ffmpeg/core":"^0.5.0","idb":"^4.0.5","is-url":"^1.2.4","node-fetch":"^2.6.0","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1"},"description":"FFmpeg WebAssembly version","devDependencies":{"@babel/core":"^7.6.4","@babel/preset-env":"^7.6.3","babel-loader":"^8.0.6","cors":"^2.8.5","eslint":"^6.1.0","eslint-config-airbnb-base":"^14.0.0","eslint-plugin-import":"^2.18.2","expect.js":"^0.3.1","express":"^4.17.1","mocha":"^6.2.2","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","nyc":"^14.1.1","wait-on":"^3.3.0","webpack":"^4.41.2","webpack-cli":"^3.3.9","webpack-dev-middleware":"^3.7.2"},"directories":{"example":"examples"},"homepage":"https://github.com/ffmpegjs/ffmpeg.js#readme","keywords":["ffmpeg","WebAssembly","video"],"license":"MIT","main":"src/index.js","name":"@ffmpeg/ffmpeg","repository":{"type":"git","url":"git+https://github.com/ffmpegjs/ffmpeg.js.git"},"scripts":{"build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","lint":"eslint src","prepublishOnly":"npm run build","start":"node scripts/server.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:node:all","test:browser":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js"},"version":"0.5.2"}')},234:function(e,t){e.exports={logger:()=>{},progress:()=>{}}},235:function(e,t){e.exports=({workerPath:e,workerBlobURL:t})=>{let r;if(Blob&&URL&&t){const t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});r=new Worker(URL.createObjectURL(t))}else r=new Worker(e);return r}},236:function(e,t){e.exports=e=>{e.terminate()}},237:function(e,t){e.exports=(e,t)=>{e.onmessage=({data:e})=>{t(e)}}},238:function(e,t){e.exports=async(e,t)=>{e.postMessage(t)}},239:function(e,t,r){const n=r(221);e.exports=async e=>{let t=e;if(void 0===e)return"undefined";if("string"==typeof e)if(/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e))t=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{const r=await fetch(n(e));t=await r.arrayBuffer()}else(e instanceof File||e instanceof Blob)&&(t=await(r=e,new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:e}}})=>{t(Error(`File could not be read! Code=${e}`))},n.readAsArrayBuffer(r)})));var r;return new Uint8Array(t)}},240:function(e,t,r){const{openDB:n}=r(241),o=()=>n("/data",21),i=async e=>{const t=await e.get("FILE_DATA","/data/.DUMMY");return{dataKey:Object.keys(t).filter(e=>!["mode","timestamp"].includes(e)).pop(),mode:t.mode}};e.exports={readFile:async e=>{const t=await o(),{dataKey:r}=await i(t);return(await t.get("FILE_DATA",`/data/${e}`))[r]},writeFile:async(e,t)=>{const r=await o(),{dataKey:n,mode:a}=await i(r);await r.put("FILE_DATA",{[n]:t,mode:a,timestamp:new Date},`/data/${e}`)},deleteFile:async e=>{const t=await o();await t.delete("FILE_DATA",`/data/${e}`)}}},241:function(e,t,r){"use strict";r.r(t),r.d(t,"unwrap",(function(){return h})),r.d(t,"wrap",(function(){return d})),r.d(t,"openDB",(function(){return m})),r.d(t,"deleteDB",(function(){return g}));let n,o;const i=new WeakMap,a=new WeakMap,s=new WeakMap,c=new WeakMap,u=new WeakMap;let l={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||s.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return d(e[t])},has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(h(this),t),d(i.get(this))}:function(...t){return d(e.apply(h(this),t))}:function(t,...r){const n=e.call(h(this),t,...r);return s.set(n,t.sort?t.sort():[t]),d(n)}}function p(e){return"function"==typeof e?f(e):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),n()},i=()=>{r(e.error),n()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});a.set(e,t)}(e),t=e,(n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,l):e);var t}function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const n=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(d(e.result)),n()},i=()=>{r(e.error),n()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&i.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=p(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const h=e=>u.get(e);function m(e,t,{blocked:r,upgrade:n,blocking:o}={}){const i=indexedDB.open(e,t),a=d(i);return n&&i.addEventListener("upgradeneeded",e=>{n(d(i.result),e.oldVersion,e.newVersion,d(i.transaction))}),r&&i.addEventListener("blocked",()=>r()),o&&a.then(e=>e.addEventListener("versionchange",o)).catch(()=>{}),a}function g(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",()=>t()),d(r).then(()=>{})}const y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],w=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,o=v.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!o&&!y.includes(r))return;const i=async function(e,...t){const i=this.transaction(e,o?"readwrite":"readonly");let a=i.store;n&&(a=a.index(t.shift()));const s=a[r](...t);return o&&await i.done,s};return w.set(t,i),i}l=(e=>({get:(t,r,n)=>b(t,r)||e.get(t,r,n),has:(t,r)=>!!b(t,r)||e.has(t,r)}))(l)},243:function(e,t,r){r(225);const{logging:n,setLogging:o}=r(222),i=r(226);e.exports={logging:n,setLogging:o,createWorker:i}}}]);
//# sourceMappingURL=vendors~ffmpeg-1.js.map